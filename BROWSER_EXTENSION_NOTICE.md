# ブラウザ拡張機能に関する注意事項

## 📋 概要

このアプリケーションで表示される一部のコンソールエラーは、**ブラウザ拡張機能**が原因であり、アプリケーション自体の問題ではありません。

## 🔍 確認されているエラー

### 1. `runtime.lastError: The message port closed`
- **原因**: Chrome拡張機能のメッセージパッシングエラー
- **影響**: なし（アプリケーションは正常動作）
- **対処法**: 無視して問題ありません

### 2. `document.write()` 警告
- **原因**: 拡張機能が古いDOM操作APIを使用
- **影響**: 軽微なパフォーマンス低下の可能性
- **対処法**: アプリケーション側で保護措置を実装済み

### 3. `setTimeout` 処理時間警告
- **原因**: 拡張機能のバックグラウンド処理
- **影響**: 軽微なパフォーマンス低下の可能性
- **対処法**: アプリケーション側で最適化済み

### 4. `wheel` イベント警告
- **原因**: 拡張機能が非パッシブなスクロールリスナーを使用
- **影響**: スクロールパフォーマンスの軽微な低下
- **対処法**: アプリケーション側でパッシブリスナーを追加

## 🛡️ 実装済み保護機能

本アプリケーションでは以下の保護機能を実装しています：

1. **ExtensionErrorBoundary**
   - 拡張機能由来のコンソールエラーをフィルタリング
   - パッシブイベントリスナーの追加
   - `document.write()` の無効化

2. **強化されたセキュリティヘッダー**
   - CSP（Content Security Policy）の強化
   - Permissions Policy の追加
   - Cross-Origin 保護の実装

3. **パフォーマンス最適化**
   - 拡張機能の影響を最小化
   - イベントリスナーの最適化

## 🔧 トラブルシューティング

### 問題が発生した場合

1. **ブラウザの拡張機能を無効化**
   - Chrome: `chrome://extensions/`
   - Edge: `edge://extensions/`
   - Firefox: `about:addons`

2. **シークレット/プライベートモードでテスト**
   - 拡張機能が無効な状態でアプリケーションを確認

3. **開発者ツールのフィルタリング**
   - コンソールで「拡張機能」や「extension」をフィルタアウト

### 推奨事項

- 拡張機能のエラーは無視して構いません
- アプリケーションの機能には影響しません
- パフォーマンスに大きな影響はありません

## 📊 パフォーマンス指標

アプリケーション本体のパフォーマンス：
- ✅ ページサイズ: 150B + 87.2kB First Load JS
- ✅ 静的生成: 6/6 ページ完了
- ✅ コンパイル: 成功
- ✅ セキュリティ: A級ヘッダー設定

---

*このドキュメントは自動生成されました - 🤖 Generated with [Claude Code](https://claude.ai/code)*