(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[991],{3914:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/edit",function(){return a(1280)}])},5822:function(e,s,a){"use strict";var r=a(5893);a(7294);var l=a(1664),t=a.n(l),i=a(3299);s.Z=e=>{let{children:s}=e,{data:a}=(0,i.useSession)();return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)("header",{className:"bg-white shadow",children:(0,r.jsx)("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(t(),{href:"/",className:"flex items-center",children:(0,r.jsx)("span",{className:"text-xl font-bold text-primary",children:"AparelEC"})}),(0,r.jsxs)("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[(0,r.jsx)(t(),{href:"/customize",className:"inline-flex items-center px-1 pt-1 text-gray-900 hover:text-primary",children:"カスタマイズ"}),(0,r.jsx)(t(),{href:"/products",className:"inline-flex items-center px-1 pt-1 text-gray-900 hover:text-primary",children:"商品一覧"})]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(t(),{href:"/cart",className:"p-2 text-gray-900 hover:text-primary",children:"\uD83D\uDED2 カート"}),a?(0,r.jsxs)("div",{className:"ml-4 flex items-center space-x-4",children:[(0,r.jsx)(t(),{href:"/profile",className:"text-gray-900 hover:text-primary",children:"マイページ"}),(0,r.jsx)("button",{onClick:()=>(0,i.signOut)(),className:"text-gray-900 hover:text-primary",children:"ログアウト"})]}):(0,r.jsxs)("div",{className:"ml-4 flex items-center space-x-4",children:[(0,r.jsx)(t(),{href:"/auth/login",className:"text-gray-900 hover:text-primary",children:"ログイン"}),(0,r.jsx)(t(),{href:"/auth/register",className:"bg-primary text-white px-4 py-2 rounded hover:bg-primary/90",children:"新規登録"})]})]})]})})}),(0,r.jsx)("main",{className:"flex-grow",children:s}),(0,r.jsx)("footer",{className:"bg-gray-800 text-white",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"AparelEC"}),(0,r.jsxs)("p",{className:"text-gray-400",children:["高品質なスポーツユニフォームを",(0,r.jsx)("br",{}),"お手頃価格で提供します"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"リンク"}),(0,r.jsxs)("ul",{className:"space-y-2",children:[(0,r.jsx)("li",{children:(0,r.jsx)(t(),{href:"/about",className:"text-gray-400 hover:text-white",children:"会社概要"})}),(0,r.jsx)("li",{children:(0,r.jsx)(t(),{href:"/contact",className:"text-gray-400 hover:text-white",children:"お問い合わせ"})}),(0,r.jsx)("li",{children:(0,r.jsx)(t(),{href:"/privacy",className:"text-gray-400 hover:text-white",children:"プライバシーポリシー"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"お問い合わせ"}),(0,r.jsxs)("p",{className:"text-gray-400",children:["メール: info@aparelec.com",(0,r.jsx)("br",{}),"電話: 03-1234-5678"]})]})]}),(0,r.jsx)("div",{className:"mt-8 pt-8 border-t border-gray-700 text-center text-gray-400",children:(0,r.jsx)("p",{children:"\xa9 2024 AparelEC. All rights reserved."})})]})})]})}},1280:function(e,s,a){"use strict";a.r(s);var r=a(5893),l=a(7294),t=a(3299),i=a(1163),n=a(5822);let c=new(a(385)).PrismaClient;s.default=()=>{let{data:e}=(0,t.useSession)(),s=(0,i.useRouter)(),[a,x]=(0,l.useState)({name:"",email:""}),[d,m]=(0,l.useState)(""),[h,o]=(0,l.useState)("");(0,l.useEffect)(()=>{(async()=>{var s;if(null==e?void 0:null===(s=e.user)||void 0===s?void 0:s.id){let s=await c.user.findUnique({where:{id:e.user.id}});s&&x({name:s.name||"",email:s.email})}})()},[e]);let u=async s=>{s.preventDefault(),m(""),o("");try{var r;(null==e?void 0:null===(r=e.user)||void 0===r?void 0:r.id)&&(await c.user.update({where:{id:e.user.id},data:{name:a.name}}),o("プロフィールを更新しました"))}catch(e){m("プロフィールの更新に失敗しました")}};return e?(0,r.jsx)(n.Z,{children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto py-12",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"プロフィール編集"}),d&&(0,r.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:d}),h&&(0,r.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:h}),(0,r.jsx)("form",{onSubmit:u,className:"bg-white shadow rounded-lg p-6",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"お名前"}),(0,r.jsx)("input",{type:"text",id:"name",value:a.name,onChange:e=>x({...a,name:e.target.value}),className:"input-field",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"メールアドレス"}),(0,r.jsx)("input",{type:"email",id:"email",value:a.email,disabled:!0,className:"input-field bg-gray-50"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"メールアドレスは変更できません"})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>s.push("/profile"),className:"btn-secondary",children:"キャンセル"}),(0,r.jsx)("button",{type:"submit",className:"btn-primary",children:"保存"})]})]})})]})}):(0,r.jsx)(n.Z,{children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto py-12 text-center",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"ログインが必要です"}),(0,r.jsx)("p",{className:"text-gray-600 mb-8",children:"プロフィールを編集するにはログインしてください。"})]})})}}},function(e){e.O(0,[664,299,257,888,774,179],function(){return e(e.s=3914)}),_N_E=e.O()}]);