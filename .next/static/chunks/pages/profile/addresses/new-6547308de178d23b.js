(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[605],{6988:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/addresses/new",function(){return t(7725)}])},5822:function(e,s,t){"use strict";var l=t(5893);t(7294);var a=t(1664),r=t.n(a),i=t(3299);s.Z=e=>{let{children:s}=e,{data:t}=(0,i.useSession)();return(0,l.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,l.jsx)("header",{className:"bg-white shadow",children:(0,l.jsx)("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"flex justify-between h-16",children:[(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(r(),{href:"/",className:"flex items-center",children:(0,l.jsx)("span",{className:"text-xl font-bold text-primary",children:"AparelEC"})}),(0,l.jsxs)("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[(0,l.jsx)(r(),{href:"/customize",className:"inline-flex items-center px-1 pt-1 text-gray-900 hover:text-primary",children:"カスタマイズ"}),(0,l.jsx)(r(),{href:"/products",className:"inline-flex items-center px-1 pt-1 text-gray-900 hover:text-primary",children:"商品一覧"})]})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(r(),{href:"/cart",className:"p-2 text-gray-900 hover:text-primary",children:"\uD83D\uDED2 カート"}),t?(0,l.jsxs)("div",{className:"ml-4 flex items-center space-x-4",children:[(0,l.jsx)(r(),{href:"/profile",className:"text-gray-900 hover:text-primary",children:"マイページ"}),(0,l.jsx)("button",{onClick:()=>(0,i.signOut)(),className:"text-gray-900 hover:text-primary",children:"ログアウト"})]}):(0,l.jsxs)("div",{className:"ml-4 flex items-center space-x-4",children:[(0,l.jsx)(r(),{href:"/auth/login",className:"text-gray-900 hover:text-primary",children:"ログイン"}),(0,l.jsx)(r(),{href:"/auth/register",className:"bg-primary text-white px-4 py-2 rounded hover:bg-primary/90",children:"新規登録"})]})]})]})})}),(0,l.jsx)("main",{className:"flex-grow",children:s}),(0,l.jsx)("footer",{className:"bg-gray-800 text-white",children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"AparelEC"}),(0,l.jsxs)("p",{className:"text-gray-400",children:["高品質なスポーツユニフォームを",(0,l.jsx)("br",{}),"お手頃価格で提供します"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"リンク"}),(0,l.jsxs)("ul",{className:"space-y-2",children:[(0,l.jsx)("li",{children:(0,l.jsx)(r(),{href:"/about",className:"text-gray-400 hover:text-white",children:"会社概要"})}),(0,l.jsx)("li",{children:(0,l.jsx)(r(),{href:"/contact",className:"text-gray-400 hover:text-white",children:"お問い合わせ"})}),(0,l.jsx)("li",{children:(0,l.jsx)(r(),{href:"/privacy",className:"text-gray-400 hover:text-white",children:"プライバシーポリシー"})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"お問い合わせ"}),(0,l.jsxs)("p",{className:"text-gray-400",children:["メール: info@aparelec.com",(0,l.jsx)("br",{}),"電話: 03-1234-5678"]})]})]}),(0,l.jsx)("div",{className:"mt-8 pt-8 border-t border-gray-700 text-center text-gray-400",children:(0,l.jsx)("p",{children:"\xa9 2024 AparelEC. All rights reserved."})})]})})]})}},7725:function(e,s,t){"use strict";t.r(s);var l=t(5893),a=t(7294),r=t(3299),i=t(1163),n=t(5822);let c=new(t(385)).PrismaClient;s.default=()=>{let{data:e}=(0,r.useSession)(),s=(0,i.useRouter)(),[t,d]=(0,a.useState)({name:"",zipCode:"",prefecture:"",city:"",street:"",building:"",phone:"",isDefault:!1}),[x,m]=(0,a.useState)(""),[h,o]=(0,a.useState)(!1),u=async l=>{l.preventDefault(),m(""),o(!0);try{var a;if(!(null==e?void 0:null===(a=e.user)||void 0===a?void 0:a.id))throw Error("認証が必要です");await c.address.create({data:{userId:e.user.id,name:t.name,zipCode:t.zipCode,prefecture:t.prefecture,city:t.city,street:t.street,building:t.building,phone:t.phone,isDefault:t.isDefault}}),s.push("/profile?tab=addresses")}catch(e){console.error("住所の作成エラー:",e),m("住所の作成に失敗しました")}finally{o(!1)}};return e?(0,l.jsx)(n.Z,{children:(0,l.jsxs)("div",{className:"max-w-2xl mx-auto py-12",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"新規住所の登録"}),x&&(0,l.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:x}),(0,l.jsx)("form",{onSubmit:u,className:"bg-white shadow rounded-lg p-6",children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"住所の名称"}),(0,l.jsx)("input",{type:"text",id:"name",value:t.name,onChange:e=>d({...t,name:e.target.value}),className:"input-field",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700",children:"郵便番号"}),(0,l.jsx)("input",{type:"text",id:"zipCode",value:t.zipCode,onChange:e=>d({...t,zipCode:e.target.value}),className:"input-field",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"prefecture",className:"block text-sm font-medium text-gray-700",children:"都道府県"}),(0,l.jsx)("input",{type:"text",id:"prefecture",value:t.prefecture,onChange:e=>d({...t,prefecture:e.target.value}),className:"input-field",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"市区町村"}),(0,l.jsx)("input",{type:"text",id:"city",value:t.city,onChange:e=>d({...t,city:e.target.value}),className:"input-field",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700",children:"番地"}),(0,l.jsx)("input",{type:"text",id:"street",value:t.street,onChange:e=>d({...t,street:e.target.value}),className:"input-field",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"building",className:"block text-sm font-medium text-gray-700",children:"建物名・部屋番号"}),(0,l.jsx)("input",{type:"text",id:"building",value:t.building,onChange:e=>d({...t,building:e.target.value}),className:"input-field"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"電話番号"}),(0,l.jsx)("input",{type:"tel",id:"phone",value:t.phone,onChange:e=>d({...t,phone:e.target.value}),className:"input-field",required:!0})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",id:"isDefault",checked:t.isDefault,onChange:e=>d({...t,isDefault:e.target.checked}),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,l.jsx)("label",{htmlFor:"isDefault",className:"ml-2 block text-sm text-gray-900",children:"デフォルトの住所として設定"})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,l.jsx)("button",{type:"button",onClick:()=>s.push("/profile?tab=addresses"),className:"btn-secondary",children:"キャンセル"}),(0,l.jsx)("button",{type:"submit",disabled:h,className:"btn-primary",children:h?"保存中...":"保存"})]})]})})]})}):(0,l.jsx)(n.Z,{children:(0,l.jsxs)("div",{className:"max-w-4xl mx-auto py-12 text-center",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"ログインが必要です"}),(0,l.jsx)("p",{className:"text-gray-600 mb-8",children:"住所を追加するにはログインしてください。"})]})})}}},function(e){e.O(0,[664,299,257,888,774,179],function(){return e(e.s=6988)}),_N_E=e.O()}]);